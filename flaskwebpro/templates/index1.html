<!DOCTYPE html>
<html lang="en">
<head>
    <!-- 新 Bootstrap4 核心 CSS 文件 -->
<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/css/bootstrap.min.css">
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>

<!-- popper.min.js 用于弹窗、提示、下拉菜单 -->
<script src="https://cdn.staticfile.org/popper.js/1.12.5/umd/popper.min.js"></script>

<!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
<script src="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="../css/blog.css">
    <meta charset="UTF-8">
    <title>imdb</title>


</head>
<body style="
   background:url({{ url_for('static', filename='images/background.jpg') }})  no-repeat center center;
   background-size:cover;
   background-attachment:fixed;
   background-color:#CCCCCC;
   font-family: 华文楷体;">
<header class="blog-header py-3" style="background-color: #fbfcfc">
                <div class="row flex-nowrap justify-content-between align-items-center">
                    <div class="col-4 pt-1">

                    </div>
                    <div class="col-4 text-center">
                        <a class="blog-header-logo text-dark" href="#">Painting Studio</a>
                    </div>
                    <div class="col-4 d-flex justify-content-end align-items-center">
                        <a class="text-muted" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="mx-3" role="img" viewBox="0 0 24 24" focusable="false"><title>Search</title><circle cx="10.5" cy="10.5" r="7.5"/><path d="M21 21l-5.2-5.2"/></svg>
                        </a>
                        <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('login') }}">登录</a>
                    </div>
                </div>
                <nav class="navbar navbar-expand-lg navbar-light" style="font-size: 20px">
                    <a class="navbar-brand" href="" >PStuido</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mr-auto justify-content-center">
                            <li class="nav-item active">
                                <a class="nav-link" href="{{ url_for('index') }}" >主页<span class="sr-only">(current)</span></a>
                            </li>
                            &nbsp;
{#                            &nbsp;#}
{#                            <li class="nav-item ">#}
{#                                <a class="nav-link" href="学习平台.html">#}
{#                                    学习平台#}
{#                                </a>#}
{##}
{#                            </li>#}
{#                            &nbsp;#}
{#                            &nbsp;#}
{#							<li class="nav-item ">#}
{#                                <a class="nav-link " href="画作鉴定.html">#}
{#                                    画作鉴别#}
{#                                </a>#}
{##}
{#                            </li>#}
{#                            &nbsp;#}
{#                            &nbsp;#}
{#                            <li class="nav-item dropdown">#}
{#      <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">#}
{#        画作交易#}
{#      </a>#}
{#      <div class="dropdown-menu">#}
{#        <a class="dropdown-item" href="index1.html">画作购买</a>#}
{#        <a class="dropdown-item" href="画作交易-出售.html">画作出售</a>#}
{#       </div>#}
{#    </li>#}
{#                            &nbsp;#}
{#                            &nbsp;#}
{#                                <li class="nav-item dropdown">#}
{#      <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">#}
{#        线上比赛#}
{#      </a>#}
{#      <div class="dropdown-menu">#}
{#        <a class="dropdown-item" href="比赛主页面.html">参加比赛</a>#}
{#        <a class="dropdown-item" href="创建比赛.html">创建比赛</a>#}
{#       </div>#}
{#    </li>#}
                            &nbsp;
                            &nbsp;
                            <li class="nav-item">
                                <a class="nav-link" href="">个人中心</a>
                            </li>
                        </ul>

                    </div>
                </nav>
            </header>
<div style="width: 100%;height: 1000px;margin: 0 auto;)">
    <br>
   <form action="/index" method="post" name="searhForm">
    <div class="container-fluid" >
        <div class="row">
            <div class="col-md-2"><select class="form-control" >
                     <option>综合排序</option>
                     <option>价格升序</option>
                     <option>价格降序</option>
             </select></div>
            <div class="col-xl-1"></div>
            <div class="col-xl-8">
                <input type="text" placeholder="请输入想购买的画作..." style="height: 50px;width:80%">
                 <button type="button" class="btn btn-primary btn-sm " style="margin-left:1%;width: 80px;height: 50px;font-size: 20px;margin-top: -5px"
                         onclick="javascrtpt:window.location.href='#'" >搜索</button>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-2"></div>
            <div class="col-xl-7" style="margin-left: 130px">
                <span><a href="#"> </a></span>&nbsp;&nbsp;&nbsp;
                <span><a href="#"> </a></span>&nbsp;&nbsp;&nbsp;
                <span><a href="#"> </a></span>&nbsp;&nbsp;&nbsp;
                <span><a href="#"> </a></span>&nbsp;&nbsp;&nbsp;
            </div>
        </div>
    </div>
    <br>
    <br>

                                    <p class="card-subtitle mb-4">
                                        <input type="hidden" name="opr" value="search" />
                                        <input type="hidden" name="pageSize" value="{{ paramDict.get('pageSize') }}" />
                                        <input type="hidden" name="currentPage" value="{{ paramDict.get('currentPage') }}" />
                                        <input type="hidden" name="counts" value="{{ paramDict.get('counts') }}" />
                                        <input type="hidden" name="totalPage" value="{{ paramDict.get('totalPage') }}" />

                                    </p>
                                    <table id="datatable-buttons" class="table table-striped dt-responsive nowrap">
                                        <thead>
                                            <tr>
                                                 <th>电影名</th>
                                                <th>星级</th>
                                                <th>时长</th>
                                                <th>演员</th>
                                                <th>导演</th>
                                                <th>发布日期</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                {% for imdb in imdbList %}
                                                    <tr>
                                                       <td>{{ imdb.get('title') }}<img src="/static/{{ imdb.get('title') }}"></td>
                                                       <td>{{ imdb.get('rating') }}</td>
                                                       <td>{{ imdb.get('duration') }}</td>
                                                       <td>{{ imdb.get('stars') }}</td>
                                                        <td>{{ imdb.get('director') }}</td>
                                                        <td>{{ imdb.get('release_date') }}</td>

                                                    </tr>
                                                {% endfor %}
                                            <tr>
                                                <td colspan="10" align="right">
                                                    总共有{{ paramDict.get('counts') }}条  总共{{ paramDict.get('totalPage') }}页  当前第{{ paramDict.get('currentPage') }}页
                                                    <button type="button" class="btn btn-light btn-sm" onclick="changePage('first')">首页</button>
                                                    <button type="button" class="btn btn-light btn-sm" onclick="changePage('pre')">上一页</button>
                                                    <button type="button" class="btn btn-light btn-sm" onclick="changePage('next')">下一页</button>
                                                    <button type="button" class="btn btn-light btn-sm" onclick="changePage('last')">尾页</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </form>
</div>

<script type="text/javascript">
    function changePage(op) {
        currentPage = Number.parseInt(document.searhForm.currentPage.value)
        totalPage = Number.parseInt(document.searhForm.totalPage.value)
        pageSize = document.searhForm.pageSize.value
        if( op == 'first'){
            document.searhForm.currentPage.value = 1
        }else if(op == 'pre'){
            document.searhForm.currentPage.value = (currentPage == 1?1:currentPage-1)
        }else if(op == "next"){
            document.searhForm.currentPage.value = (currentPage == totalPage? totalPage:currentPage+1)
        }else if(op == "last"){
            document.searhForm.currentPage.value = totalPage
        }
        document.searhForm.submit()
    }
</script>
</body>
</html>